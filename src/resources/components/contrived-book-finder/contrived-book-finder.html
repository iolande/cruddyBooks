<template>
  <require from="./contrived-book-finder.css"></require>
  <section class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">${heading}</h3>
    </div>
    <div class="panel-body">
      <form class="clearfix" submit.delegate="searchByGenre()">
        <search-input
          label="Search by genre"
          value.two-way="searchTerm"
          placeholder="comedy, maths, biography..."
          button-text="Go!"
          field-message-info.bind="searchTermFieldMessage"
        ></search-input>
      </form>
      <ul class="list-unstyled">
        <li repeat.for="book of booksFilteredByGenre">
          <button type="button" click.delegate="setWorkingBook(book)" class="btn btn-link">${book.title}</button>
        </li>
      </ul>
      <form>
        <fieldset>
          <legend>Book details</legend>
          <text-input label="Title" maxlength="50" value.bind="workingBook.title"></text-input>
          <text-input label="Author" maxlength="50" value.bind="workingBook.author"></text-input>
          <text-input label="Genre" maxlength="50" value.bind="workingBook.genre" placeholder="science fiction, biography..."></text-input>

          <checkbox label="Read" value.two-way="workingBook.read"></checkbox>
        </fieldset>
      </form>
    </div>
    <div class="panel-footer clearfix">
      <button class="btn btn-primary pull-right" click.delegate="selectBook()">Select book for saving</button>
    </div>
  </section>
</template>
